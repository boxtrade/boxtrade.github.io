# # # ORA-01555:snapshot too old (rollback segment too small)

[ORA-01555 原因与解决 - 数据与人文 - 博客园](https://www.cnblogs.com/shujuyr/p/15164945.html)

[高频错误：ORA-01555深入剖析 - 腾讯云开发者社区-腾讯云](https://cloud.tencent.com/developer/article/1052530)

[ORA-01555 原因与解决_51CTO博客_ora-01555](https://blog.51cto.com/u_12208527/3605847)

[ORA-01555快照过旧报错_ora01555快照过旧如何解决_哈哈的人生的博客-CSDN博客](https://blog.csdn.net/qq_45087635/article/details/127767040)

## 二、产生的原因:

     (1):sql执行比较久,需要优化sql

     (2):回滚段过小

     (3):undo保存时间过短

# # ORACLE 回滚段详解

原创

[ORACLE 回滚段详解_小麦苗的技术博客_51CTO博客](https://blog.51cto.com/lhrbest/2697922)

# 回滚段概述

　　回滚段用于存放数据修改之前的值（包括数据修改之前的位置和值）。回滚段的头部包含正在使用的该回滚段事务的信息。一个事务只能使用一个回滚段来存放它的回滚信息，而一个回滚段可以存放多个事务的回滚信息。 

回滚段的作用 

　　事务回滚：当事务修改表中数据的时候，该数据修改前的值（即前影像）会存放在回滚段中，当用户回滚事务（ROLLBACK）时，ORACLE将会利用回滚段中的数据前影像来将修改的数据恢复到原来的值。 

　　事务恢复：当事务正在处理的时候，例程失败，回滚段的信息保存在重做日志文件中，ORACLE将在下次打开数据库时利用回滚来恢复未提交的数据。 

　　读一致性：当一个会话正在修改数据时，其他的会话将看不到该会话未提交的修改。而且，当一个语句正在执行时，该语句将看不到从该语句开始执行后的未提交的修改（语句级读一致性）。当ORACLE执行SELECT语句时，ORACLE依照当前的系统改变号（SYSTEM CHANGE NUMBER-SCN）来保证任何前于当前SCN的未提交的改变不被该语句处理。可以想象：当一个长时间的查询正在执行时，若其他会话改变了该查询要查询的某个数据块，ORACLE将利用回滚段的数据前影像来构造一个读一致性视图。 

-----------------------------------

©著作权归作者所有：来自51CTO博客作者小麦苗DB宝的原创作品，请联系作者获取转载授权，否则将追究法律责任
ORACLE 回滚段详解
https://blog.51cto.com/lhrbest/2697922
